```mermaid
%%{init: {'theme': 'dark'}}%%
flowchart TB
    subgraph MONITORING["ğŸ“Š MONITORING ARCHITECTURE - VERIFIED"]
        direction TB
    end
    
    subgraph COLLECTION["Data Collection Layer"]
        subgraph MASTER_EXPORTERS["Master Exporters"]
            NE_M["ğŸ“Š Node Exporter<br/>Host Metrics<br/>27.65 MiB"]
            CA_M["ğŸ“Š cAdvisor<br/>Container Metrics<br/>339.2 MiB"]
            TR_M["ğŸ“Š Traefik Metrics<br/>:8082"]
            CS_M["ğŸ“Š CrowdSec Metrics<br/>:6060"]
        end
        
        subgraph LADY_EXPORTERS["Lady Exporters"]
            NE_L["ğŸ“Š Node Exporter<br/>100.64.0.2:9100"]
            CA_L["ğŸ“Š cAdvisor<br/>100.64.0.2:8081"]
            TR_L["ğŸ“Š Traefik Metrics<br/>100.64.0.2:8082"]
            CS_L["ğŸ“Š CrowdSec Metrics<br/>100.64.0.2:6060"]
            MY_L["ğŸ“Š MySQLd Exporter<br/>100.64.0.2:9104"]
        end
        
        subgraph BLACKBOX_PROBES["Blackbox Probing"]
            BB["ğŸ” Blackbox Exporter v0.28<br/>28.95 MiB RAM"]
            SSL1["SSL: quietly.its.me"]
            SSL2["SSL: grafana.quietly.its.me"]
            SSL3["SSL: auth.quietly.its.me"]
            SSL4["SSL: quietly.online"]
            SSL5["SSL: mail.quietly.online"]
            SSL6["SSL: nextcloud.quietly.online"]
        end
    end
    
    subgraph STORAGE["Storage Layer"]
        PROM["ğŸ“ˆ Prometheus v2.54.1<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ¯ 20 Active Targets<br/>ğŸ“Š 17 Scrape Jobs<br/>â±ï¸ 30s Scrape Interval<br/>ğŸ’¾ 1.518G / 2G (76%)<br/>ğŸ”„ Compaction: Active"]
        
        LOKI["ğŸ“ Loki 3.3.2<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ’¾ 137 MiB Storage<br/>ğŸ“Š Index Tables: 6<br/>ğŸ”„ Checkpointing: Active<br/>ğŸ’¤ 201 MiB RAM"]
    end
    
    subgraph INGESTION["Log Ingestion"]
        PROMTAIL_M["ğŸ“¤ Promtail Master<br/>143.6 MiB RAM<br/>2.65% CPU"]
        PROMTAIL_L["ğŸ“¤ Promtail Lady<br/>89.81 MiB RAM<br/>4.04% CPU"]
    end
    
    subgraph ALERTING["Alerting Pipeline"]
        AM["ğŸ”” Alertmanager v0.27<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“Š 3 Receivers:<br/>â€¢ critical-alerts<br/>â€¢ warning-alerts<br/>â€¢ info-alerts<br/>â±ï¸ Group Wait: 10s"]
        
        NTFY["ğŸ“² NTFY v2.16.0<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ”” Push Notifications<br/>ğŸ“± iOS + Android<br/>ğŸ’¾ 54.72 MiB RAM"]
    end
    
    subgraph VISUALIZATION["Visualization Layer"]
        GRAFANA["ğŸ“Š Grafana 11.4.0<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ“ˆ ~14 Dashboards<br/>ğŸ”Œ 2 Data Sources<br/>ğŸ’¾ 228.3M / 1G (22%)"]
        
        UPTIME["ğŸ“¡ Uptime Kuma 1.23.17<br/>â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”<br/>ğŸ” Status Page<br/>ğŸ“Š Endpoint Monitoring<br/>ğŸ’¾ 169.7 MiB RAM"]
    end
    
    subgraph SCRAPE_JOBS["Prometheus Scrape Jobs (17)"]
        J1["prometheus (self)"]
        J2["node-master"]
        J3["cadvisor-master"]
        J4["traefik-master"]
        J5["node-lady"]
        J6["cadvisor-lady"]
        J7["traefik-lady"]
        J8["loki"]
        J9["alertmanager"]
        J10["grafana"]
        J11["blackbox"]
        J12["crowdsec-master"]
        J13["crowdsec-lady"]
        J14["mysql-mailcow"]
        J15["ssl-certs (6 targets)"]
    end
    
    %% Connections
    NE_M --> PROM
    CA_M --> PROM
    TR_M --> PROM
    CS_M --> PROM
    NE_L --> PROM
    CA_L --> PROM
    TR_L --> PROM
    CS_L --> PROM
    MY_L --> PROM
    
    BB --> PROM
    SSL1 --> BB
    SSL2 --> BB
    SSL3 --> BB
    SSL4 --> BB
    SSL5 --> BB
    SSL6 --> BB
    
    PROMTAIL_M --> LOKI
    PROMTAIL_L --> LOKI
    
    PROM --> AM
    AM --> NTFY
    
    PROM --> GRAFANA
    LOKI --> GRAFANA
    
    PROM --> SCRAPE_JOBS
    
    classDef collection fill:#1565C0,stroke:#0D47A1,color:#fff
    classDef storage fill:#7B1FA2,stroke:#4A148C,color:#fff
    classDef alerting fill:#C62828,stroke:#B71C1C,color:#fff
    classDef viz fill:#2E7D32,stroke:#1B5E20,color:#fff
    
    class COLLECTION,MASTER_EXPORTERS,LADY_EXPORTERS,BLACKBOX_PROBES collection
    class STORAGE,PROM,LOKI storage
    class ALERTING,AM,NTFY alerting
    class VISUALIZATION,GRAFANA,UPTIME viz
```
